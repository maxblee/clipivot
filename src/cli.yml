name: "csvpivot"
about: "A tool for creating pivot tables from the command line.
\nFor more information, visit https://github.com/maxblee/csvpivot"

settings:
  - ArgRequiredElseHelp

args:
  - aggfunc:
      help: "The function you use to run across the pivot table.
      \n- `count` counts individual records
      \n- `countunique` counts the number of unique records in the values column
      \n- `mean` computes a mean across the matching records
      \n- `mode` computes the mode, returning the record that appears first in the data in the case of a tie
      \n- `stddev` computes the sample standard deviation, outputting an empty string if there are 0 or 1 matching records
      \n- `sum` sums the values. Only supports numbers (integers and decimals)\n"
      required: true
      index: 1
      possible_values:
        - count
        - countunique
        - mean
        - median
        - mode
        - stddev
        - sum

  - filename:
      help: The path to the delimited file you want to create a pivot table from
      index: 2

  - rows:
      help: The name of the index(es) to aggregate on. Currently must be 0-indexed integers
      long: rows
      short: r
      takes_value: true
      multiple: true

  - columns:
      help: The name of the column(s) to aggregate on. Currently must be 0-indexed integers
      long: cols
      short: c
      takes_value: true
      multiple: true

  - value:
      help: The name of the field used to determine the value (e.g. id for most count operations). Currently must be 0-indexed integers
      long: val
      short: v
      takes_value: true
      required: true